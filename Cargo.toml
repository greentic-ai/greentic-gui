[package]
name = "greentic-gui"
version = "0.4.4"
edition = "2024"
description = "Greentic GUI runtime (Axum-based) that serves tenant packs, enforces auth, and exposes worker/session APIs plus a browser SDK."
license = "MIT"
homepage = "https://greentic.ai"
repository = "https://github.com/greentic-ai/greentic-gui"
documentation = "https://github.com/greentic-ai/greentic-gui"
readme = "README.md"
keywords = ["greentic", "gui", "axum", "runtime", "wasm"]

[workspace]
members = ["."]
resolver = "2"

[workspace.metadata.dist]
# Generate binstall-friendly archives and checksums for GitHub Releases.
# We manage CI/workflows ourselves (see `.github/workflows/dist-releases.yml`).
# Keeping this empty prevents `dist` from requiring autogenerated workflows to be checked in.
ci = []
installers = []

cargo-dist-version = "0.28.0"

# Binstall-friendly archive formats: `.tar.gz` on unix, `.zip` on Windows.
archive-formats = ["tar.gz", "zip"]

# Targets we publish prebuilt archives for.
targets = [
  "x86_64-unknown-linux-gnu",
  "x86_64-pc-windows-msvc",
  "x86_64-apple-darwin",
  "aarch64-apple-darwin",
]

[profile.dist]
inherits = "release"
lto = "thin"
codegen-units = 1
strip = "symbols"

[features]
default = []
remote-worker-gateway = []

[dependencies]
anyhow = "1"
async-trait = "0.1"
axum = { version = "0.8", features = ["macros", "json"] }
http = "1"
hyper = { version = "1.8", features = ["full"] }
greentic-session = { version = "0.4.1", default-features = true, features = ["interfaces", "redis"] }
greentic-telemetry = "0.4"
greentic-types = "0.4"
greentic-distributor-client = { version = "0.4", features = ["http-runtime"] }
greentic-interfaces-guest = { version = "0.4", default-features = false, features = ["gui-fragment"] }
greentic-interfaces-wasmtime = { version = "0.4", default-features = false }
greentic-oauth-sdk = "0.4"
greentic-oauth-client = "0.4"
reqwest = { version = "0.12", default-features = false, features = ["rustls-tls", "stream"] }
tokio-stream = "0.1"
flate2 = "1"
tar = "0.4"
wasmtime = { version = "39", features = ["component-model", "async"] }
base64 = "0.22"
ciborium = "0.2"
semver = "1"
serde = { version = "1", features = ["derive"] }
serde_json = "1"
tokio = { version = "1", features = ["macros", "rt-multi-thread", "fs", "signal", "sync"] }
tower = "0.5"
tower-http = { version = "0.6", features = ["trace", "compression-br", "compression-deflate", "compression-gzip", "cors", "set-header"] }
tracing = "0.1"
tracing-subscriber = { version = "0.3", features = ["env-filter", "fmt"] }
serde_with = "3.9"
thiserror = "2"
uuid = { version = "1", features = ["v4"] }
tempfile = "3"
kuchiki = "0"
regex = "1"
chrono = { version = "0.4", default-features = false, features = ["clock"] }
greentic-interfaces-host = { version = "0.4.54", default-features = false, features = ["worker-v1", "gui-fragment"] }
url = "2"
greentic-config = "0.4"
greentic-config-types = "0.4"
zip = "6"
clap = { version = "4", features = ["derive"] }
toml = "0.9"

[dev-dependencies]
axum = { version = "0.8", features = ["macros", "json"] }
serde_json = "1"
tokio = { version = "1", features = ["macros", "rt-multi-thread"] }
